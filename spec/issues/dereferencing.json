[
  {
    "description": "using relative URIs as id",
    "schemas": [
      {
        "$schema": "http://json-schema.org/draft-04/schema#",
        "id": "foo/bar"
      }
    ],
    "tests": [
      {
        "description": "should resolve correctly",
        "schema": "schemas.0",
        "hasProps": {
          "id": "http://json-schema.org/draft-04/foo/bar#"
        }
      }
    ]
  },
  {
    "description": "using ./ in the URI",
    "schemas": [
      {
        "id": "./here"
      }
    ],
    "tests": [
      {
        "description": "should normalize correctly",
        "schema": "schemas.0",
        "hasProps": {
          "id": "http://json-schema.org/here#"
        }
      }
    ]
  },
  {
    "description": "inner $ref issues",
    "schemas": [
      {
        "type": "object",
        "properties": {
          "prop": { "$ref": "#/definitions/foo" }
        },
        "required": ["prop"],
        "definitions": {
          "foo": { "enum": ["bar"] }
        }
      }
    ],
    "tests": [
      {
        "description": "leave inner $ref as-is",
        "schema": "schemas.0",
        "hasRefs": 1
      },
      {
        "description": "resolve inner $ref (expand)",
        "schema": "schemas.0",
        "expand": true,
        "hasRefs": 0,
        "hasProps": {
          "properties.prop.enum.0": "bar"
        }
      }
    ]
  }
]
